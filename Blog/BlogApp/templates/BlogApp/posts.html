{% extends 'BlogApp/base.html' %}
{% load app_filters %}
<html>
    <head>
        <title>

        </title>
    </head>
    <body>
        {% block 'body' %}
        <div class="container">
            <div class="row">
                <table class="table table-hover">
                    <tr class="success">
                        <th>
                            Post Picture
                        </th>
                        <th>
                            Post Title
                        </th>
                        <th>
                            Post Author
                        </th>
                        <th>
                            Modify
                        </th>
                        <th>
                            Delete
                        </th>
                    </tr>

                    {% for post in posts %}
                        <tr>
                            <td>
                                {% if post.postPic %}
                                    <a href="{{post.id}}"><img class="thumbnail img-responsive img-rounded" src="{{base_url}}img/{{post.postPic.name}}" height="40" width="40"  /></a>
                                {% endif %}
                            </td>
                            <td><a href="{{post.id}}">{{post.postTitle}}</a></td>
                            <td><p>{{post.userID.first_name}} {{post.userID.last_name}}</p></td>
                            {% if post|equal:user_id == True %}
                                <td><a href="{{post.id}}/modify_post"><span class="glyphicon glyphicon-edit"></span></a></td>
                                <td><a href="{{post.id}}/delete_post"><span class="glyphicon glyphicon-remove" style="color: red;"></span></a></td>
                            {% endif %}
                        </tr>
                    {% endfor %}
                </table>

            </div>
            <div class="row">
                <div class="col-md-5">

                </div>
                <!-- pagination starts here  -->
                <div class="pagination">
                    <span class="step-links">
                        {% if posts.has_previous %}
                            <a class="btn btn-danger" href="?page={{ posts.previous_page_number }}">previous</a>
                        {% endif %}

                        <span class="current">
                            Page {{ posts.number }} of {{ posts.paginator.num_pages }}.
                        </span>

                        {% if posts.has_next %}
                            <a class="btn btn-success" href="?page={{ posts.next_page_number }}">next</a>
                        {% endif %}
                    </span>
                </div>
                <!-- pagination ends here -->

            </div>
            {% if user.is_authenticated %}
                <button class="btn btn-primary pull-right" onclick="location.href='new_post'"><span class="glyphicon glyphicon-plus" style="color"></span> add new</button>
            {% endif %}
            <script src="{{base_url}}css/bootstrap/js/bootstrap.min.js">
            </script>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

        </div>
        {% endblock %}
    </body>
</html>
