{% extends 'BlogApp/base.html' %}

{% block 'title' %}
Users Management Panel
{% endblock 'title' %}

{% block 'body' %}
<table>
    <th>Username</th><th>First Name</th><th>Block/Unblock</th><th>Promote/Un-Promote</th>
    {% for user in users %}
    <tr>
        <td>{{user.username}}</td>
        <td>{{user.first_name}}</td>
        {% if user.is_superuser is True %}
        <td>
            <button type="button" onClick="javascript:location.href='/promote/{{user.pk}}';" />Un-Promote</button>
        </td>
        <td>
            <button disabled >Block</button>
        </td>
        {% else %}
        <td>
            <button type="button" onClick="javascript:location.href='/promote/{{user.pk}}';" />Promote</button>
        </td>
            {% if user.is_active is True %}
            <td>
                <button type="button" onClick="javascript:location.href='/block/{{user.pk}}';" />Block</button>
            </td>
            {% else %}
            <td>
                <button type="button" onClick="javascript:location.href='/block/{{user.pk}}';" />Unblock</button>
            </td>
            {% endif %}
        {% endif %}
        <td><a href="edit/{{user.pk}}">Edit</a></td>

    </tr>
    {% endfor %}
</table>
<button type="button" onClick="javascript:location.href='new/';" />Add User</button>
{% endblock 'body' %}
